{"version":3,"sources":["typography.js","constants.js","Components/Shared/Shared.js","Components/App/AppPresenter.js","Components/App/AppContainer.js","Components/App/index.js","index.js"],"names":["typography","Typography","googleFonts","name","styles","headerFontFamily","bodyFontFamily","includeNormalize","baseFontSize","toString","MASTER_NODE","SELF_NODE","port","concat","SELF_P2P_NODE","Card","styled","div","_templateObject","Title","h1","_templateObject2","Key","h3","_templateObject3","KeyName","span","_templateObject4","Button","button","_templateObject5","Header","AppPresenter_templateObject","AppContainer","AppPresenter_templateObject2","SendTxForm","form","AppPresenter_templateObject3","Submit","withComponent","extend","AppPresenter_templateObject4","Input","AppPresenter_templateObject5","props","hasError","AppPresenter","_ref","isLoading","_ref$address","address","_ref$balance","balance","mineBlock","isMining","_ref$toAddress","toAddress","_ref$amount","amount","handleInput","handleSubmit","react_default","a","createElement","AppPresenter_AppContainer","disabled","onClick","onSubmit","placeholder","required","value","type","onChange","max","readOnly","state","componentDidMount","sharedPort","_this","_registerOnMaster","_getBalance","_getAddress","setInterval","_callee","regenerator_default","wrap","_context","prev","next","axios","post","peer","sent","stop","this","_callee2","request","_context2","get","setState","data","_callee3","_context3","_mineBlock","_callee4","_context4","_handleInput","e","_e$target","target","Object","defineProperty","_handleSubmit","_callee5","_this$state","_context5","preventDefault","Number","injectGlobal","AppContainer_templateObject","reset","App_AppPresenter","assign","Component","window","require","remote","getGlobal","ReactDOM","render","App","document","getElementById"],"mappings":"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","file":"static/js/main.096578bd.chunk.js","sourcesContent":["import Typography from \"typography\";\r\n\r\nconst typography = new Typography({\r\n  googleFonts: [\r\n    {\r\n      name: \"Nunito\",\r\n      styles: [\"400\", \"700\"]\r\n    },\r\n    {\r\n      name: \"Open Sans\",\r\n      styles: [\"400\"]\r\n    }\r\n  ],\r\n  headerFontFamily: [\"Nunito\", \"Helvetica\", \"sans-serif\"],\r\n  bodyFontFamily: [\"Open Sans\", \"Helvetica\", \"sans-serif\"],\r\n  includeNormalize: false,\r\n  baseFontSize: \"14px\"\r\n});\r\n\r\nexport default typography.toString();","export const MASTER_NODE = \"http://localhost:4000\";\r\nexport const SELF_NODE = (port) => `http://localhost:${port}`;\r\nexport const SELF_P2P_NODE = (port) => `ws://localhost:${port}`;\r\n","import styled from \"styled-components\";\r\n\r\nexport const Card = styled.div `\r\n  box-shadow: 0 4px 6px rgba(50, 50, 93, 0.11), 0 1px 3px rgba(0, 0, 0, 0.08);\r\n  background-color: white;\r\n  width: 90%;\r\n  padding: 20px;\r\n  box-sizing: border-box;\r\n  border-radius: 10px;\r\n  margin-bottom: 50px;\r\n`;\r\n\r\nexport const Title = styled.h1 `\r\n  color: #305371;\r\n`;\r\n\r\nexport const Key = styled.h3 `\r\n  color: #305371;\r\n  margin-bottom: 20px !important;\r\n  word-break: break-all;\r\n  &:last-child {\r\n    margin-bottom: 0;\r\n  }\r\n`;\r\n\r\nexport const KeyName = styled.span `\r\n  color: #999;\r\n`;\r\n\r\nexport const Button = styled.button `\r\n  background-color: white;\r\n  border: 0;\r\n  width: 100px;\r\n  padding: 10px 0;\r\n  font-size: 14px;\r\n  font-weight: 600;\r\n  color: #305371;\r\n  border-radius: 5px;\r\n  box-shadow: 0 4px 6px rgba(50, 50, 93, 0.11), 0 1px 3px rgba(0, 0, 0, 0.08);\r\n  transition: all 0.1s linear;\r\n  cursor: pointer;\r\n  &:focus,\r\n  &:active {\r\n    outline: none;\r\n  }\r\n  &:hover {\r\n    box-shadow: 0 7px 14px rgba(50, 50, 93, 0.1), 0 3px 6px rgba(0, 0, 0, 0.08);\r\n    transform: translateY(-1px);\r\n  }\r\n  &:active {\r\n    box-shadow: 0 4px 6px rgba(50, 50, 93, 0.11), 0 1px 3px rgba(0, 0, 0, 0.08);\r\n    background-color: #f6f9fc;\r\n    transform: translateY(1px);\r\n  }\r\n  &:disabled {\r\n    box-shadow: 0 4px 6px rgba(50, 50, 93, 0.11), 0 1px 3px rgba(0, 0, 0, 0.08);\r\n    background-color: #f6f9fc;\r\n    transform: none;\r\n    cursor: progress;\r\n    &:focus,\r\n    &:active,\r\n    &:hover {\r\n      transform: none;\r\n    }\r\n  }\r\n`;","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport styled from \"styled-components\";\r\nimport { Card, Key, KeyName, Title, Button } from \"Components/Shared\";\r\n\r\nconst Header = styled.div`\r\n  margin: 50px 0;\r\n  width: 90%;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n`;\r\n\r\nconst AppContainer = styled.div`\r\n  background-color: #f2f6fa;\r\n  height: 100vh;\r\n  display: flex;\r\n  align-items: center;\r\n  flex-direction: column;\r\n`;\r\n\r\nconst SendTxForm = styled.form`\r\n  margin-top: 25px;\r\n`;\r\n\r\nconst Submit = Button.withComponent(\"input\").extend`\r\n  margin-right:10px;\r\n  border: 2px solid #305371;\r\n  box-shadow:none;\r\n  &:hover{\r\n      box-shadow:none;\r\n      transform:none;\r\n  }\r\n  &:disabled{\r\n      color:#999;\r\n      border: 2px solid #999;\r\n      cursor:not-allowed;\r\n      box-shadow:none;\r\n  }\r\n`;\r\n\r\nconst Input = Submit.extend`\r\n  width: 200px;\r\n  padding-left: 10px;\r\n  &:active {\r\n    background-color: transparent;\r\n  }\r\n  color: ${props => (props.hasError ? \"#e74c3c\" : \"inherit\")};\r\n  border-color: ${props => (props.hasError ? \"#e74c3c\" : \"inherit\")};\r\n`;\r\n\r\nconst AppPresenter = ({\r\n  isLoading,\r\n  address = \"\",\r\n  balance = \"\",\r\n  mineBlock,\r\n  isMining,\r\n  toAddress = \"\",\r\n  amount = 0,\r\n  handleInput,\r\n  handleSubmit\r\n}) => (\r\n  <AppContainer>\r\n    <Header>\r\n      <Title>{isLoading ? \"Loading...\" : \"Nomadcoin Wallet\"}</Title>\r\n      <Button disabled={isMining} onClick={mineBlock}>\r\n        {isMining ? \"Mining\" : \"Mine\"}\r\n      </Button>\r\n    </Header>\r\n    <Card>\r\n      <Key>\r\n        <KeyName>Your address:</KeyName> {address}\r\n      </Key>\r\n      <Key>\r\n        <KeyName>Your balance:</KeyName> {balance} NMD\r\n      </Key>\r\n    </Card>\r\n    <Card>\r\n      <Key>Send NMD: </Key>\r\n      <SendTxForm onSubmit={handleSubmit}>\r\n        <Input\r\n          placeholder={\"Address\"}\r\n          required\r\n          name=\"toAddress\"\r\n          value={toAddress}\r\n          type={\"text\"}\r\n          onChange={handleInput}\r\n        />\r\n        <Input\r\n          placeholder={\"Amount\"}\r\n          required\r\n          name=\"amount\"\r\n          type={\"number\"}\r\n          value={amount || \"\"}\r\n          onChange={handleInput}\r\n          max={balance}\r\n        />\r\n        <Submit\r\n          value={\"Send\"}\r\n          type={\"submit\"}\r\n          readOnly\r\n          disabled={!toAddress || !amount}\r\n        />\r\n      </SendTxForm>\r\n    </Card>\r\n  </AppContainer>\r\n);\r\n\r\nAppPresenter.propTypes = {\r\n  isLoading: PropTypes.bool.isRequired,\r\n  address: PropTypes.string,\r\n  balance: PropTypes.number,\r\n  mineBlock: PropTypes.func.isRequired,\r\n  isMining: PropTypes.bool.isRequired,\r\n  toAddress: PropTypes.string.isRequired,\r\n  amount: PropTypes.string.isRequired,\r\n  handleInput: PropTypes.func.isRequired,\r\n  handleSubmit: PropTypes.func.isRequired\r\n};\r\n\r\nexport default AppPresenter;","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { injectGlobal } from \"styled-components\";\nimport reset from \"styled-reset\";\nimport axios from \"axios\";\nimport typography from \"../../typography\";\nimport { MASTER_NODE, SELF_NODE, SELF_P2P_NODE } from \"../../constants\";\nimport AppPresenter from \"./AppPresenter\";\n\nconst baseStyles = () => injectGlobal`\n  ${reset};\n  ${typography};\n  h1,h2,h3,h4{\n    margin-bottom:0!important;\n  }\n`;\n\nclass AppContainer extends Component {\n  state = {\n    isLoading: true,\n    isMining: false,\n    toAddress: \"\",\n    amount: \"0\"\n  };\n  static propTypes = {\n    sharedPort: PropTypes.number.isRequired\n  };\n  componentDidMount = () => {\n    const { sharedPort } = this.props;\n    this._registerOnMaster(sharedPort);\n    this._getBalance(sharedPort);\n    this._getAddress(sharedPort);\n    setInterval(() => this._getBalance(sharedPort), 1000);\n  };\n  render() {\n    baseStyles();\n    return (\n      <AppPresenter\n        {...this.state}\n        mineBlock={this._mineBlock}\n        handleInput={this._handleInput}\n        handleSubmit={this._handleSubmit}\n      />\n    );\n  }\n  _registerOnMaster = async port => {\n    const request = await axios.post(`${MASTER_NODE}/peers`, {\n      peer: SELF_P2P_NODE(port)\n    });\n  };\n  _getAddress = async port => {\n    const request = await axios.get(`${SELF_NODE(port)}/me/address`);\n    this.setState({\n      address: request.data,\n      isLoading: false\n    });\n  };\n  _getBalance = async port => {\n    const request = await axios.get(`${SELF_NODE(port)}/me/balance`);\n    const { balance } = request.data;\n    this.setState({\n      balance\n    });\n  };\n  _mineBlock = async () => {\n    const { sharedPort } = this.props;\n    this.setState({\n      isMining: true\n    });\n    const request = await axios.post(`${SELF_NODE(sharedPort)}/blocks`);\n    this.setState({\n      isMining: false\n    });\n  };\n  _handleInput = e => {\n    const { target: { name, value } } = e;\n    this.setState({\n      [name]: value\n    });\n  };\n  _handleSubmit = async e => {\n    e.preventDefault();\n    const { sharedPort } = this.props;\n    const { amount, toAddress } = this.state;\n    const request = await axios.post(`${SELF_NODE(sharedPort)}/transactions`, {\n      amount: Number(amount),\n      address: toAddress\n    });\n    this.setState({\n      amount: \"\",\n      toAddress: \"\"\n    });\n  };\n}\n\nexport default AppContainer;","import AppContainer from \"./AppContainer\";\r\nexport default AppContainer;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from 'Components/App';\nconst { remote } = window.require(\"electron\");\nconst sharedPort = remote.getGlobal(\"sharedPort\");\n\nReactDOM.render(<App sharedPort={sharedPort}/>, document.getElementById('root'));\n"],"sourceRoot":""}